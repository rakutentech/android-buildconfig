apply plugin: 'net.ltgt.errorprone'

dependencies {
  if(!JavaVersion.current().java9Compatible) {
    // see https://github.com/tbroyer/gradle-errorprone-plugin#jdk-8-support
    errorproneJavac("com.google.errorprone:javac:9+181-r4173-1")
  }
  errorprone("com.google.errorprone:error_prone_core:2.3.2")
  annotationProcessor "com.uber.nullaway:nullaway:0.6.0"
}

tasks.withType(JavaCompile) {
  options.errorprone.errorproneArgs << "-XepDisableWarningsInGeneratedCode"
  options.errorprone.errorproneArgs << "-Xep:NullAway:ERROR" << "-XepOpt:NullAway:AnnotatedPackages=com.uber"
}
